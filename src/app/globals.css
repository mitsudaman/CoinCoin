@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* UI進化システム - 背景 */
.bg-stage-1 {
  background: linear-gradient(135deg, #1e3a8a, #7c3aed);
}

.bg-stage-2 {
  background: linear-gradient(135deg, #1e3a8a, #7c3aed, #dc2626);
  position: relative;
}

.bg-stage-2::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
  background-size: 50px 50px;
  animation: twinkle 3s ease-in-out infinite;
  pointer-events: none;
}

.bg-stage-3 {
  background: linear-gradient(45deg, #1e3a8a, #7c3aed, #f59e0b, #dc2626);
  background-size: 400% 400%;
  animation: gradientShift 8s ease infinite;
}

.bg-stage-4 {
  background: linear-gradient(45deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3);
  background-size: 800% 800%;
  animation: rainbowShift 4s ease infinite;
}

/* メインコイン進化 */
.coin-basic {
  transform: scale(1);
  transition: transform 0.15s ease;
}

.coin-industrial {
  transform: scale(1.05);
  box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
  transition: all 0.15s ease;
}

.coin-prosperity {
  transform: scale(1.1);
  box-shadow: 0 0 50px rgba(255, 215, 0, 0.8);
  animation: coinGlow 2s ease-in-out infinite alternate;
}

.coin-imperial {
  transform: scale(1.15);
  box-shadow: 0 0 80px rgba(255, 215, 0, 1);
  animation: coinImperial 3s linear infinite;
}

/* 統計パネル進化 */
.panel-basic {
  background: rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(4px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.panel-industrial {
  background: rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(4px);
  border: 2px solid #fbbf24;
  box-shadow: 0 0 10px rgba(251, 191, 36, 0.3);
}

.panel-prosperity {
  background: rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(4px);
  border: 2px solid #fbbf24;
  box-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
  position: relative;
}

.panel-prosperity::before {
  content: '';
  position: absolute;
  inset: -2px;
  background: linear-gradient(45deg, #fbbf24, #f59e0b, #fbbf24);
  background-size: 200% 200%;
  animation: borderGlow 3s ease infinite;
  z-index: -1;
  border-radius: inherit;
}

.panel-imperial {
  background: rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(8px);
  border: 3px solid transparent;
  background-clip: padding-box;
  box-shadow: 0 0 40px rgba(255, 215, 0, 0.8);
  position: relative;
}

.panel-imperial::before {
  content: '';
  position: absolute;
  inset: -3px;
  background: linear-gradient(45deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3);
  background-size: 400% 400%;
  animation: rainbowBorder 2s linear infinite;
  z-index: -1;
  border-radius: inherit;
}

/* アニメーション */
@keyframes twinkle {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.8; }
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes rainbowShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes coinGlow {
  0% { box-shadow: 0 0 50px rgba(255, 215, 0, 0.8); }
  100% { box-shadow: 0 0 80px rgba(255, 215, 0, 1); }
}

@keyframes coinImperial {
  0% { 
    transform: scale(1.15) rotate(0deg);
    box-shadow: 0 0 80px rgba(255, 215, 0, 1);
  }
  25% { 
    transform: scale(1.2) rotate(90deg);
    box-shadow: 0 0 100px rgba(255, 0, 255, 0.8);
  }
  50% { 
    transform: scale(1.15) rotate(180deg);
    box-shadow: 0 0 80px rgba(0, 255, 255, 0.8);
  }
  75% { 
    transform: scale(1.2) rotate(270deg);
    box-shadow: 0 0 100px rgba(255, 255, 0, 0.8);
  }
  100% { 
    transform: scale(1.15) rotate(360deg);
    box-shadow: 0 0 80px rgba(255, 215, 0, 1);
  }
}

@keyframes borderGlow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes rainbowBorder {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* 所有施設アイコン用アニメーション */
@keyframes fadeIn {
  from { 
    opacity: 0; 
    transform: scale(0.5); 
  }
  to { 
    opacity: 1; 
    transform: scale(1); 
  }
}

.animate-fadeIn {
  animation: fadeIn 0.5s ease-in-out;
}

.owned-building-icon {
  transition: transform 0.2s ease;
}

.owned-building-icon:hover {
  transform: scale(1.1);
}

/* ゲームコンテナ - 画面サイズ仕様対応 */
.game-container {
  width: 100%;
  min-height: 100vh; /* 縦は画面全体使用 */
  height: auto;      /* 高さは内容に応じて自動調整 */
  
  /* iPhone SE (375px) 〜 iPhone 16 Pro Max (428px) 対応 */
  max-width: min(428px, 100vw);
  min-width: 375px;
  
  /* 中央配置とスクロール対応 */
  position: relative;
  overflow-y: auto;    /* 縦スクロール可能 */
  overflow-x: hidden;  /* 横スクロールは無効 */
}

/* 画面幅が375px未満の場合（極小デバイス） */
@media (max-width: 374px) {
  .game-container {
    min-width: 100vw; /* 極小画面では画面幅に合わせる */
  }
}

/* デスクトップ等の大画面対応 */
@media (min-width: 429px) {
  .game-container {
    width: 428px; /* iPhone 16 Pro Max幅で固定 */
  }
}
