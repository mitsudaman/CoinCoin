# CoinCoin プレステージシステム仕様書

## システム概要
一定まで進めたら「プレステージ」でリセット → 永続強化アイテムを獲得 → 次の周回が楽になる

## 基本仕様

### 解放条件
- **総獲得コイン**: 500コイン到達で「プレステージ」ボタン解放

### リセット効果  
- 所持コイン = 0
- 全施設数 = 0
- プレステージポイントは保持

### プレステージポイント算出
```
プレステージポイント = 総獲得コイン数 ÷ 100（端数切り捨て）

例：
- 500コイン → 5ポイント
- 1200コイン → 12ポイント
```

## プレステージショップ（アイテム）

### 🖱️ クリックパワー（1ポイント）
- **効果**: クリック報酬+100コイン
- **購入可能**: 無制限

### 🏭 生産ブースト（2ポイント）  
- **効果**: 全施設の生産量+100%
- **購入可能**: 無制限

### 💰 価格削減（3ポイント）
- **効果**: 全施設の価格-50%
- **購入可能**: 無制限


## 技術実装

### データベース
```sql
CREATE TABLE prestige_data (
  user_id UUID PRIMARY KEY,
  prestige_points INTEGER DEFAULT 0,
  click_power_items INTEGER DEFAULT 0,
  production_boost_items INTEGER DEFAULT 0,
  price_reduction_items INTEGER DEFAULT 0,
  special_effects INTEGER DEFAULT 0
);
```

### UI設計
- プレステージボタン（500コイン到達時表示）
- プレステージショップ（アイテム購入画面）
- 現在の効果表示

### 効果計算
- **クリック値** = 基本値 + (クリックパワー × 1)
- **施設効率** = 基本効率 × (1 + 生産ブースト × 0.1)  
- **施設価格** = 基本価格 × (1 - 価格削減 × 0.05)